# Values file for AWS production environment - Fraud Detection Service
#
# IMPORTANT: This file is used directly by helm upgrade --install
# Update the IAM role ARN after running Terraform:
#   terraform output fraud_detection_role_arn
#
# Usage:
#   helm upgrade --install fraud-detection oci://ghcr.io/.../fraud-detection \
#     --values ./helm/values-aws-prod.yaml

replicaCount: 3

image:
  tag: "1.0.0"

cloudProvider: aws

environment: prod

aws:
  region: us-east-1
  sqs:
    queueName: fraud-detection-queue-prod

serviceAccount:
  create: true
  name: "fraud-detection"
  annotations:
    # REQUIRED: Set after Terraform apply - run: terraform output fraud_detection_role_arn
    eks.amazonaws.com/role-arn: "arn:aws:iam::ACCOUNT_ID:role/fraud-detection-service-prod"

autoscaling:
  enabled: true
  minReplicas: 3
  maxReplicas: 10
  targetCPUUtilizationPercentage: 50
  targetMemoryUtilizationPercentage: 70

resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 512Mi
